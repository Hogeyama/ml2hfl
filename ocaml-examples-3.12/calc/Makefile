# Makefile generated by imake - do not edit!

CPP=/lib/cpp -P
RM=rm -f
CP=cp -p -f
TOPDIR=.
CONFIGDIR=$(TOPDIR)/config

LIBDIR=/usr/local/lib/ocaml/

CAMLCOMPILERBIN=ocamlopt
CAMLCOMPILERBYT=ocamlc
CAMLFLAGSBIN=-w A -warn-error Ae
CAMLFLAGSBYT=-g $(CAMLFLAGSBIN)

CAMLBIN=$(CAMLCOMPILERBIN) $(CAMLFLAGSBIN)
CAMLBYT=$(CAMLCOMPILERBYT) $(CAMLFLAGSBYT)

CAMLLIBRBYT=ocamlmklib
CAMLLIBRBIN=ocamlmklib

CAMLLEX=ocamllex
CAMLYACC=ocamlyacc
CAMLDEP=ocamldep -pp camlp4o

all:: byt bin

# (begin Imakefile)

calc.BYTOBJS=lexer.cmo parser.cmo calc.cmo main.cmo
calc.FILES=$(calc.BYTOBJS:.cmo=.ml)

byt:: calc.byt

depend::
	$(CAMLDEP) $(calc.FILES) >> Makefile

clean::
	$(RM) calc.byt

calc.byt: lexer.cmo parser.cmo calc.cmo main.cmo
	$(CAMLBYT) $(LINKFLAGSBYT)  lexer.cmo parser.cmo calc.cmo main.cmo -o calc.byt
	$(CP) calc.byt calc

clean::
	$(RM) calc

calc.BINOBJS=lexer.cmx parser.cmx calc.cmx main.cmx
calc.FILES=$(calc.BINOBJS:.cmx=.ml)

bin:: calc.bin

depend::
	$(CAMLDEP) $(calc.FILES) >> Makefile

clean::
	$(RM) calc.bin

calc.bin: lexer.cmx parser.cmx calc.cmx main.cmx
	$(CAMLBIN) $(LINKFLAGSBIN)  lexer.cmx parser.cmx calc.cmx main.cmx -o calc.bin
	$(CP) calc.bin calc

clean::
	$(RM) calc

parser.ml parser.mli: parser.mly
	@$(RM) parser.ml parser.mli
	$(CAMLYACC) parser.mly
	@chmod a-w parser.ml parser.mli

clean::
	$(RM) parser.ml parser.mli

beforedepend:: parser.ml parser.mli

lexer.ml: lexer.mll
	@$(RM) lexer.ml
	$(CAMLLEX) lexer.mll
	@chmod a-w lexer.ml

clean::
	$(RM) lexer.ml

beforedepend:: lexer.ml

# (end Imakefile)

clean::
	$(RM) *.cmi *.cmix *.cmo *.cmx *.o a.out* *~ *.byt *.bin #*#

depend::

beforedepend::

mfile:
	imake -I$(CONFIGDIR)

makefiles:: beforedepend mfile depend

.SUFFIXES: .mli .cmi .ml .mly .mll .cmo .cmx .cma .cmxa

.mli.cmi:
	$(CAMLBYT) -c $<

.ml.cmo:
	$(CAMLBYT) -c $<

.ml.cmx:
	$(CAMLBIN) -c $<

# Generated dependencies below

lexer.cmo: parser.cmi
lexer.cmx: parser.cmx
parser.cmo: parser.cmi
parser.cmx: parser.cmi
calc.cmo: parser.cmi lexer.cmo
calc.cmx: parser.cmx lexer.cmx
main.cmo: calc.cmo
main.cmx: calc.cmx
lexer.cmo: parser.cmi
lexer.cmx: parser.cmx
parser.cmo: parser.cmi
parser.cmx: parser.cmi
calc.cmo: parser.cmi lexer.cmo
calc.cmx: parser.cmx lexer.cmx
main.cmo: calc.cmo
main.cmx: calc.cmx
lexer.cmo: parser.cmi
lexer.cmx: parser.cmx
parser.cmo: parser.cmi
parser.cmx: parser.cmi
calc.cmo: parser.cmi lexer.cmo
calc.cmx: parser.cmx lexer.cmx
main.cmo: calc.cmo
main.cmx: calc.cmx
lexer.cmo: parser.cmi
lexer.cmx: parser.cmx
parser.cmo: parser.cmi
parser.cmx: parser.cmi
calc.cmo: parser.cmi lexer.cmo
calc.cmx: parser.cmx lexer.cmx
main.cmo: calc.cmo
main.cmx: calc.cmx
