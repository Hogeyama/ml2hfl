\documentclass{sigplanconf}
\usepackage{paralist}
\usepackage{bcprules}
\usepackage{amsthm}
\usepackage{amssymb}

\usepackage[usenames]{color}
%\usepackage{color}
\usepackage{jumoline}
\usepackage{proofread}

\usepackage{alltt}

%\MidlineHeight=0.4ex
%\UMOlineThickness=0.2ex

%\usepackage{latexsym}
\usepackage{amsmath}
%\usepackage{natbib}
\usepackage{ulem}
\usepackage{graphicx}
\usepackage{url}
\usepackage{proof,myproof}
%\bibpunct();A{},
%\let\cite=\citep

\newcommand\IT[1]{{\it #1}}
\let\emph=\IT
\let\em=\it

%\usepackage{fancyhdr}
%\usepackage{lastpage} 
%
%\pagestyle{fancy} 
%\lhead{}
%\rhead{}
%\lfoot{\today}
%\rfoot{[\ \scshape\oldstylenums{\thepage}\ / %
%    \scshape\oldstylenums{\pageref{LastPage}}\ ]}

\newif\iffull\fullfalse
\input{macro}

\begin{document}

\conferenceinfo{PLDI'11,}{June 4--8, 2011, San Jose, California, USA.}
\CopyrightYear{2011}
\copyrightdata{978-1-4503-0663-8/11/06}

\title{Predicate Abstraction and CEGAR for Higher-Order Model Checking}
%\iffull
\authorinfo{Naoki Kobayashi}
           {Tohoku University}
           {koba@ecei.tohoku.ac.jp}

\authorinfo{Ryosuke Sato}
           {Tohoku University}
           {ryosuke@kb.ecei.tohoku.ac.jp}

\authorinfo{Hiroshi Unno}
           {Tohoku University}
           {uhiro@kb.ecei.tohoku.ac.jp}
%\else
%%\authorinfo{}{}{}
%\fi
\toappear{\copyright\ ACM, 2011. This is the author's version of the 
work. It is posted here by permission of ACM for your personal use. Not 
for redistribution. The definitive version was published in the 
Proceedings of PLDI'11.}

\maketitle
%%\vspace*{-2cm}
\input{abstract}
\input{intro}
\input{lang}
\input{boolean}
\input{pred}
\input{cegar}
\input{exps}
\input{related}
\input{conc}
\input{ack}
%\bibliographystyle{plain}
%\bibliographystyle{plainnat}

%\iffull
\bibliographystyle{abbrv}
\bibliography{abbrv,prog_lang}
%\else
%\begin{thebibliography}{10}
%
%\bibitem{Bakewell2009}
%A.~Bakewell and D.~R. Ghica.
%\newblock Compositional predicate abstraction from game semantics.
%\newblock In {\em TACAS '09}, pages 62--76. Springer, 2009.
%
%\bibitem{Ball2001}
%T.~Ball, R.~Majumdar, T.~Millstein, and S.~K. Rajamani.
%\newblock Automatic predicate abstraction of {C} programs.
%\newblock In {\em PLDI '01}, pages 203--213. ACM, 2001.
%
%\bibitem{Ball2005}
%T.~Ball, T.~Millstein, and S.~K. Rajamani.
%\newblock Polymorphic predicate abstraction.
%\newblock {\em ACM Transactions on Programming Languages and Systems},
%  27(2):314--343, 2005.
%
%\bibitem{Ball2002}
%T.~Ball and S.~K. Rajamani.
%\newblock The {SLAM} project: debugging system software via static analysis.
%\newblock In {\em POPL '02}, pages 1--3. ACM, 2002.
%
%\bibitem{Barrett2007}
%C.~Barrett and C.~Tinelli.
%\newblock {CVC3}.
%\newblock In {\em CAV '07}, volume 4590 of {\em LNCS}, pages 298--302.
%  Springer, July 2007.
%
%\bibitem{Beyer2008}
%D.~Beyer, D.~Zufferey, and R.~Majumdar.
%\newblock {CSIsat} : Interpolation for {LA}+{EUF} (tool paper).
%\newblock In {\em CAV '08}, volume 5123 of {\em LNCS}, pages 304--308, July
%  2008.
%
%\bibitem{Chin2001}
%W.-N. Chin and S.-C. Khoo.
%\newblock Calculating sized types.
%\newblock {\em Higher-Order and Symbolic Computation}, 14(2-3):261--300,
%  September 2001.
%
%\bibitem{Clarke2003a}
%E.~Clarke, O.~Grumberg, S.~Jha, Y.~Lu, and H.~Veith.
%\newblock Counterexample-guided abstraction refinement for symbolic model
%  checking.
%\newblock {\em Journal of the ACM}, 50(5):752--794, 2003.
%
%\bibitem{Cousot1978}
%P.~Cousot and N.~Halbwachs.
%\newblock Automatic discovery of linear restraints among variables of a
%  program.
%\newblock In {\em POPL '78}, pages 84--96. ACM, 1978.
%
%\bibitem{Damm1982}
%W.~Damm.
%\newblock The {IO}- and {OI}-hierarchies.
%\newblock {\em Theoretical Computer Science}, 20(2):95 -- 207, 1982.
%
%\bibitem{Flanagan2006}
%C.~Flanagan.
%\newblock Hybrid type checking.
%\newblock In {\em POPL '06}, pages 245--256. ACM, 2006.
%
%\bibitem{Graf1997}
%S.~Graf and H.~Sa\"{\i}di.
%\newblock Construction of abstract state graphs with {PVS}.
%\newblock In {\em CAV '97}, volume 1254 of {\em LNCS}, pages 72--83. Springer,
%  June 1997.
%
%\bibitem{Heizmann2010}
%M.~Heizmann, J.~Hoenicke, and A.~Podelski.
%\newblock Nested interpolants.
%\newblock In {\em POPL '10}, pages 471--482. ACM, 2010.
%
%\bibitem{Henzinger2004}
%T.~A. Henzinger, R.~Jhala, R.~Majumdar, and K.~L. McMillan.
%\newblock Abstractions from proofs.
%\newblock In {\em POPL '04}, pages 232--244. ACM, 2004.
%
%\bibitem{Henzinger2002}
%T.~A. Henzinger, R.~Jhala, R.~Majumdar, and G.~Sutre.
%\newblock Lazy abstraction.
%\newblock In {\em POPL '02}, pages 58--70. ACM, 2002.
%
%\bibitem{Jhala2009}
%R.~Jhala and R.~Majumdar.
%\newblock Counterexample refinement for functional programs.
%\newblock Manuscript, available from
%  \url{http://www.cs.ucla.edu/~rupak/Papers/CEGARFunctional.ps}, 2009.
%
%\bibitem{Jhala2010}
%R.~Jhala, R.~Majumdar, and A.~Rybalchenko.
%\newblock Refinement type inference via abstract interpretation.
%\newblock arXiv:1004.2884v1, 2010.
%
%\vfill\eject
%
%\bibitem{Jhala2006}
%R.~Jhala and K.~L. McMillan.
%\newblock A practical and complete approach to predicate refinement.
%\newblock In {\em TACAS '06}, volume 3920 of {\em LNCS}, pages 459--473.
%  Springer, 2006.
%
%\bibitem{Knapik2002}
%T.~Knapik, D.~Niwinski, and P.~Urzyczyn.
%\newblock Higher-order pushdown trees are easy.
%\newblock In {\em FoSSaCS '02}, volume 2303 of {\em LNCS}, pages 205--222.
%  Springer, 2002.
%
%\bibitem{Kobayashi2009c}
%N.~Kobayashi.
%\newblock Model-checking higher-order functions.
%\newblock In {\em PPDP '09}, pages 25--36. ACM, 2009.
%
%\bibitem{Kobayashi2009d}
%N.~Kobayashi.
%\newblock {\sc TRecS}.
%\newblock \url{http://www.kb.ecei.tohoku.ac.jp/~koba/trecs/}, 2009.
%
%\bibitem{Kobayashi2009}
%N.~Kobayashi.
%\newblock Types and higher-order recursion schemes for verification of
%  higher-order programs.
%\newblock In {\em POPL '09}, pages 416--428. ACM, 2009.
%
%\bibitem{Kobayashi2011a}
%N.~Kobayashi.
%\newblock A practical linear time algorithm for trivial automata model checking
%  of higher-order recursion schemes.
%\newblock In {\em FoSSaCS '11}. Springer, 2011.
%
%\bibitem{Kobayashi2009a}
%N.~Kobayashi and C.-H.~L. Ong.
%\newblock A type system equivalent to the modal mu-calculus model checking of
%  higher-order recursion schemes.
%\newblock In {\em LICS '09}, pages 179--188. IEEE, 2009.
%
%\bibitem{Kobayashi2011}
%N.~Kobayashi, R.~Sato, and H.~Unno.
%\newblock Predicate abstraction and {CEGAR} for higher-order model checking.
%\newblock An extended version, available from
%  \url{http://www.kb.ecei.tohoku.ac.jp/~uhiro/}, 2011.
%
%\bibitem{Kobayashi2010}
%N.~Kobayashi, N.~Tabuchi, and H.~Unno.
%\newblock Higher-order multi-parameter tree transducers and recursion schemes
%  for program verification.
%\newblock In {\em POPL '10}, pages 495--508. ACM, 2010.
%
%\bibitem{McMillan2005}
%K.~L. McMillan.
%\newblock An interpolating theorem prover.
%\newblock {\em Theoretical Computer Science}, 345(1):101--121, 2005.
%
%\bibitem{Ong2006}
%C.-H.~L. Ong.
%\newblock On model-checking trees generated by higher-order recursion schemes.
%\newblock In {\em LICS '06}, pages 81--90. IEEE, 2006.
%
%\bibitem{Ong2011}
%C.-H.~L. Ong and S.~J. Ramsay.
%\newblock Verifying higher-order functional programs with pattern-matching
%  algebraic data types.
%\newblock In {\em POPL '11}, pages 587--598. ACM, 2011.
%
%\bibitem{Reynolds1972}
%J.~C. Reynolds.
%\newblock Definitional interpreters for higher-order programming languages.
%\newblock In {\em Proceedings of the ACM annual conference - Volume 2}, pages
%  717--740. ACM, 1972.
%
%\bibitem{Rondon2008}
%P.~Rondon, M.~Kawaguchi, and R.~Jhala.
%\newblock Liquid types.
%\newblock In {\em PLDI '08}. ACM, 2008.
%
%\bibitem{Terauchi2010}
%T.~Terauchi.
%\newblock Dependent types from counterexamples.
%\newblock In {\em POPL '10}, pages 119--130. ACM, 2010.
%
%\bibitem{Unno2009}
%H.~Unno and N.~Kobayashi.
%\newblock Dependent type inference with interpolants.
%\newblock In {\em PPDP '09}, pages 277--288. ACM, 2009.
%
%\bibitem{Unno2010}
%H.~Unno, N.~Tabuchi, and N.~Kobayashi.
%\newblock Verification of tree-processing programs via higher-order model
%  checking.
%\newblock In {\em APLAS '10}, volume 6461 of {\em LNCS}, pages 312--327.
%  Springer, October/December 2010.
%
%\bibitem{Xi1999}
%H.~Xi and F.~Pfenning.
%\newblock Dependent types in practical programming.
%\newblock In {\em POPL '99}, pages 214--227. ACM, 1999.
%
%\end{thebibliography}
%\fi

\newpage
%%%\section*{Personal Notes (which should not be included in the submission): Programs for experiments}
%%%
%%%\texttt{hrec}: ``recursive'' in the web demo page\\
%%%\texttt{a-prod}: ``dotprod4'' in the experiment page (exp2.html)\\
%%%\texttt{a-cppr}: ``bcopy\_print'' in the experiment page (exp2.html)\\
%%%\texttt{a-init}: ``array\_init2'' in the experiment page (exp2.html)\\
%%%\texttt{l-zipunzip}: ``zip\_unzip'' in the experiment page (exp2.html)\\
%%%\texttt{l-zipmap}: ``zip\_map2'' in the experiment page (exp2.html)\\
%%%\texttt{hors}: ``hors2'' in the experiment page (exp2.html)
%%% \todo{Replace it with or add a larger example of encoding of recursion schemes?}\\
%%%\texttt{e-simple}: ``excep'' present in an earlier version of the web demo page (?)\\
%%%\begin{verbatim}
%%%  let f n k = if n >= 0 then () else k 0 in
%%%  let g n = if n = 0 then () else fail () in
%%%    f m g
%%%\end{verbatim}
%%%\texttt{e-fact}: ``fact\_exn'' in the experiment page (exp2.html)\\
%%% \todo{Replace one of these with or add a larger example?}\\
%%%\texttt{r-lock}: ``lock'' in the web demo page\\
%%%\texttt{r-file}: the encoding of a program accessing two files (that Kobayashi sent to you via email)\\
%%% \todo{Replace one of these with or add a larger example?}\\

\iffull
\appendix

%\setpagenumber{1}
%\section*{\Large Supplementary Materials for 
%``Predicate Abstraction and CEGAR for Higher-Order Model Checking''}
%
%This document contains supplementary materials for our submission.
%Sections~\ref{sup:pred}, \ref{sup:cegar}, \ref{sup:exps},
%and \ref{sup:rel} supplement Sections~4, 5,
%6, and 7 (except proofs) respectively.
%Section~\ref{sup:proof} contains proofs.
%\section{Supplementary materials for Section~4}
%\label{sup:pred}
\input{abst_types}
\input{exampleList}
\input{dit}
\input{dit-c}

%\section{Supplementary materials for Section~5}
%\label{sup:cegar}
\input{shp}

%\section{Supplementary materials for Section~\ref{sec:experiment}}
%\label{sup:exps}
%
%The implementation can be tested by using the web interface at 
%\url{http://www.kb.ecei.tohoku.ac.jp/~ryosuke/cegar/}. (Larger programs 
%cannot be tested however, as the time-out is set to avoid a heavy load 
%to the web server. If requested, we can provide source code for the 
%verifier.) The web page also contains programs used for the experiments.

%\section{Supplementary materials for Section~7}
%\label{sup:rel}
\input{intersection}
\input{depcegar}

%\section{Proofs}
%\label{sup:proof}
\input{proof_abstraction_soundness}
\input{relcomp}
\input{proof_progress}

\fi
\end{document}
