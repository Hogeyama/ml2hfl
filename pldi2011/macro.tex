%\newcommand\unno[1]{\textbf{[#1 -unno]}}
%\newcommand{\todo}[1]{***ToDo: #1***}
%\newcommand\finish[1]{\textbf{[#1]}}
%\newcommand\koba[1]{\textcolor{red}{[#1 -koba]}}

\newcommand\rulesp{\vspace*{2ex}}

\newcommand\END{\mbox{$\square$}}
\newenvironment{pfof}[1]{\paragraph{Proof of {#1}}}{\END}

\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{prop}[theorem]{Proposition}
\newtheorem{conj}[theorem]{Conjecture}
\newtheorem*{cor}{Corollary}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

\theoremstyle{definition}
\newtheorem{example}{Example}[section]

\theoremstyle{remark}
\newtheorem{remark}{Remark}


\newcommand{\COERCE}[1]{\mathit{coerce}(#1)}
\newcommand{\NTH}[2]{\sharp_{#1}#2}

\newcommand{\seq}[1]{\widetilde{#1}}
\newcommand{\set}[1]{\{#1\}}

\newcommand{\rt}[3]{\{#1:#2 \mid #3\}}

\newcommand{\RED}{\longrightarrow}
%\newcommand{\EQ}{\approx}

\newcommand{\BASE}[1]{|#1|}

\newcommand{\TRUE}{\mathtt{true}}
\newcommand{\FALSE}{\mathtt{false}}

\newcommand{\INC}{\mathit{inc}}

\newcommand{\FUN}[3]{\mathtt{fun}(#1,#2,#3)}
\newcommand{\IFTE}[3]{\mathtt{if~}#1\mathtt{~then~}#2\mathtt{~else~}#3}
\newcommand{\IFZ}[3]{\mathtt{if0~}#1\mathtt{~then~}#2\mathtt{~else~}#3}
\newcommand{\FAIL}{\mathtt{fail}}
\newcommand{\LET}{\mathtt{let}}
\newcommand{\IN}{\mathtt{in}}
\newcommand{\LETRECEQ}[2]{\mathtt{let~rec~}#1=#2}
\newcommand{\LETEQIN}[2]{\mathtt{let~}#1=#2\mathtt{~in~}}
\newcommand{\LETRECEQIN}[3]{\mathtt{let~rec~}#1=#2\mathtt{~in~}#3}
\newcommand{\T}[4]{#1 \vdash #2 : #3 \leadsto #4}
\newcommand{\TT}[4]{#1 \vdash #2 : #3 \hookrightarrow #4}
\newcommand{\DT}[3]{#1 \pD #2 : #3}
\newcommand{\DPT}[3]{#1 \vdash_{\texttt{DIT}} #2 : #3}
\newcommand{\R}[3]{#1 \vdash #2 : #3}
\newcommand{\SUB}[4]{#1 \vdash #2 : #3 \leq #4}
\newcommand{\IMPLY}{\Rightarrow}
\newcommand{\AND}{\land}
\newcommand{\OR}{\lor}
\newcommand{\NOT}{\neg}
\newcommand{\OP}{\mathrm{op}}
\newcommand{\SEM}[1]{[\![#1]\!]}
\newcommand{\TINT}{\mathtt{int}}
%%\newcommand{\TUNIT}{\mathtt{unit}}
\newcommand{\TUNIT}{\star}
\newcommand{\TBOOL}{\mathtt{bool}}
\newcommand{\FV}[1]{\mathrm{FV}(#1)}
\newcommand{\FL}[1]{\mathrm{FL}(#1)}
\newcommand{\DOM}[1]{\mathrm{dom}(#1)}
%\newcommand{\ASSERT}[1]{\mathtt{assert~}#1}
\newcommand{\ASSERT}{\mathtt{assert~}}
%%\newcommand{\ASSUME}[2]{\mathtt{assume~}#1\mathtt{~in~}#2}
\newcommand{\ASSUME}[2]{\mathtt{assume~}#1; #2}
%\newcommand{\ASSUME}[2]{[#1] \Rightarrow #2}
\newcommand{\PAR}[2]{#1\ \square\ #2}
\newcommand{\PARB}[2]{#1\ \blacksquare\ #2}
\newcommand{\HOLE}{[\ ]}
\newcommand{\DUP}[1]{\mathit{dup}(#1)}
\newcommand{\DEF}{\equiv}
\newcommand{\THE}[1]{\theta_{#1}}
%\newcommand{\CHOOSE}[2]{\mathrm{choose(#1,#2)}}
%\newcommand{\RET}[2]{\mathtt{ret}_{#1}(#2)}

%\newcommand{\TYPE}[3]{\mathit{type}(#1,#2,#3)}
%\newcommand{\TYPE}[2]{\mathit{type}(#1,#2)}

%\newcommand{\m}[1]{\stackrel{#1}{\mapsto}}
%\newcommand{\m}[1]{\stackrel{#1}{=}}

%\newcommand{\V}[3]{\langle #1 \rangle^{#2}_{#3}}

%\newcommand{\NAIVE}[1]{\mathcal{C}_{\mathit{naive}}(#1)}
%\newcommand{\COMPLEX}[1]{\mathcal{C}_{\mathit{complex}}(#1)}
%\newcommand{\INTERP}[2]{\mathit{interp}(#1,#2)}
%\newcommand{\REFINE}[2]{\mathit{refine}(#1,#2)}
%\newcommand{\DV}[1]{\mathit{dvs}(#1)}

%\newcommand{\COND}[2]{\mathcal{C}(#1,#2)}

\newcommand{\FRESH}{\mathrm{fresh}}
\newcommand{\X}[2]{[#1]_{#2}}
\newcommand{\Y}[2]{\langle #1 \rangle_{#2}}

\newcommand{\UNDUP}[1]{\mathtt{undup}(#1)}
\newcommand{\MERGE}[1]{\mathrm{merge}(#1)}


\newcommand\MAX{\mathit{max}}
\newcommand\comp[2]{#1[#2]}
\newcommand\hole{[\,]}
\newcommand\DtoS{\texttt{D2S}}
\newcommand\IFF{\Leftrightarrow}
\newcommand\snd{\mathtt{snd}}
\newcommand\LIFT{\mathtt{lift}}
\newcommand\stsem[1]{\sem{\texttt{st}(#1)}}
\newcommand\absval[1]{\alpha_{#1}}
\newcommand\dtsem[1]{\sem{#1}}
\newcommand\nondet{\texttt{*}}
\newcommand\restrict[2]{#1\mathbin{\downarrow}_{#2}}
\newcommand\st{\gamma}
\newcommand\env{\rho}
\newcommand\esem[2]{\sem{#1}_{#2}}
\newcommand\ST{\texttt{ST}}
\newcommand\BOOLF{\TBOOL_{\texttt{fail}}}
\newcommand\PSet[1]{2^{#1}}
\newcommand\dtI{\bigwedge}
\newcommand\subT{\leq}
\newcommand\DPSUB[1]{#1 \p_{\texttt{DIT}}}
\newcommand\rtbase[3]{\set{#1\COL #2\mid #3}}
\newcommand\rtfunb[2]{#1\COL{#2}\rightarrow}
\newcommand\rtfun[1]{#1\rightarrow}
\newcommand\INT{\texttt{int}}
\newcommand\itlub{\sqcup}
\newcommand\imply{\Rightarrow}
\newcommand\PAROP{\square}
\newcommand\PAROPB{\blacksquare}
\newcommand\reds{\redswith{}{}}
\newcommand\mkSHP{\textbf{SHP}}
\newcommand\Copy[2]{#1^{(#2)}}
\newcommand\Dup[2]{{#1}^{\flat_{#2}}}
\newcommand\CALL{a}
\newcommand\pDT{\p_{\texttt{DT}}}

\newcommand{\IF}[2]{\mathtt{if~}#1\mathtt{~then~}#2\mathtt{~else~}}

\newcommand\rname{\rn}
\newenvironment{pfsketch}{\paragraph{Proof sketch}}{\END}
\newcommand\BT{\mathbf{B}}
\newcommand\nk[1]{{\footnotesize \color{red}[#1 - \textbf{Naoki}]}}
%%\newcommand\nk[1]{}
\newcommand\alphaB{\mathtt{A2S}}
\newcommand\pS{\vdash_{\mathtt{ST}}}
\newcommand\pD{\vdash_{\mathtt{AT}}}
\newcommand\pW{\vdash_{\mathtt{wf}}}
\newcommand\trecs[1]{\textsc{TRecS}}
\newcommand\tuple[1]{\langle{#1}\rangle}
\newcommand\vset{\SEM}
\newcommand\ITint[1]{\TINT[#1]}
\newcommand\red{\longrightarrow}
\newcommand\redswith[2]{\stackrel{#1}{\Longrightarrow}_{#2}}
\newcommand\redwith[2]{\stackrel{#1}{\longrightarrow}_{#2}}
\newcommand\ra{\rightarrow}
\newcommand\COL{\mathbin{:}}
\newcommand\p{\vdash}

\newcommand\depty{\textit{DepTy}}
\newcommand\RecoverDT{\textit{SynDT}}
\newcommand\B{\mathcal{B}}
\newcommand\dvar{\nu}
\newcommand\dtvar{\delta}
\newcommand\sem[1]{\mathbin{[\![}#1\mathbin{]\!]}}
\newcommand\dom{\textit{dom}}

\newcommand\slice[1]{\stackrel{#1}{\triangleright}}
%\newcommand\REF[1]{\mathrm{ExtractPred}(#1)}

%%% inference rules
\newcommand\Infrule[2]{\begin{minipage}{0.4\columnwidth}\infrule{#1}{#2}\end{minipage}}
\newcommand\InfruleW[3]{\begin{minipage}{#1\columnwidth}\infrule{#2}{#3}\end{minipage}}
\newcommand\InfruleS[3]{\begin{minipage}{#1\textwidth}\infrule{#2}{#3}\end{minipage}}
\newcommand\InfruleSR[4]{\begin{minipage}{#1\textwidth}\infrule[#2]{#3}{#4}\end{minipage}}

\newcommand\Tlist{\texttt{ilist}}
\newcommand\RefAT{\textit{Refine}}
