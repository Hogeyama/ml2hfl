/*
Input: doc(addr(pc)*), doc(addr(pc)*)
*/
%BEGING
Sp -> S 0 0.
S x y -> _case 3 x
  (doc (S 1 y))
  (br (addr (M 2) (S 1 y)) (M y))
  pc.
M x -> _case 3 x
  (M 1)
  (br (addr (M 2) (M 1)) e)
  pc.
%ENDG

/*
Output: doc (addr(pc)*)
*/
%BEGINA
q0 doc -> q1.
q0 br -> q0 q0.
q1 addr -> q2 q1.
q1 e -> .
q1 br -> q1 q1.
q2 pc -> .
q2 br -> q2 q2.
%ENDA
