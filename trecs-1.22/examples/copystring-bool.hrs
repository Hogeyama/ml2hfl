%BEGING
S -> Copy 0 I.
Copy x y ->
  _case 2 x 
     (br3 (y end) (Copy 0 (Concat y a)) (Copy 1 (Concat y b)))
     (br  (y end) (Copy 1 (Concat y b))).
I x -> x.
Concat x y z -> x(y(z)).
%ENDG

%BEGINA
q0 br -> q0 q0.
q0 br3 -> q0 q0 q0.
q1 br -> q1 q1.
q1 br3 -> q1 q1 q1.
q0 a -> q0.
q0 b -> q1.
q1 b -> q1.
q0 end -> .
q1 end -> .
%ENDA
